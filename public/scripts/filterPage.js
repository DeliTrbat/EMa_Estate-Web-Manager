class Options{static onSubmit(){window.location.replace("/search"+this.toGetParams())}static changeAllOnType(){const typeDependent=[[Options.dropdown.apType,Options.slider.rooms,Options.slider.bathrooms,Options.slider.builtIn],[Options.slider.rooms,Options.slider.bathrooms,Options.slider.builtIn],[Options.slider.bathrooms,Options.slider.builtIn],[]];typeDependent.forEach(list=>list.forEach(op=>op.element.style.display="none"));let lastIndex=0;Options.dropdown.type.onChange((index,__text)=>{typeDependent[lastIndex].forEach(op=>op.element.style.display="none"),typeDependent[index].forEach(op=>op.element.style.removeProperty("display")),lastIndex=index})}static changePriceOnType(){const prices=[[[150,2e3],[5e4,4e5]],[[500,4e3],[1e5,4e5]],[[750,5e3],[2e5,5e5]],[[2e3,1e4],[3e5,6e5]]];var changeHandler=(__index,__text)=>{var typeIndex=Options.dropdown.type.getOption().index,transactionTypeIndex=Options.dropdown.transaction.getOption().index,typeIndex=prices[typeIndex][transactionTypeIndex];Options.slider.price.set(...typeIndex).openRightDomain().openLeftDomain()};Options.dropdown.type.onChange(changeHandler),Options.dropdown.transaction.onChange(changeHandler)}static addFilters(){const options=[Options.dropdown.type,Options.dropdown.transaction,Options.dropdown.apType,Options.slider.price,Options.dropdown.by,Options.slider.rooms,Options.slider.bathrooms,Options.slider.builtIn,Options.submitButton];options.reduce((handler,current)=>handler.add(current),FilterOptionHandler)}static toGetParams(){var dropdownParams=Object.entries(Options.dropdown).filter(([,op])=>"none"!=op.element.style.display&&op.isSelected()).map(([key,op])=>key+"="+op.getOption().index),sliderParams=Object.entries(Options.slider).filter(([,op])=>"none"!=op.element.style.display&&op.isSelected()).map(([key,op])=>{var[op,pos2]=op.getSliderPosition();return key+`0=${op}&${key}1=`+pos2});return"?"+[...dropdownParams,...sliderParams].join("&")}static fromGetParams(){const GET=DocumentHandler.getGETParameters();Object.entries(Options.dropdown).filter(([key])=>null!=GET[key]).forEach(([key,op])=>op.chooseOption(Number(GET[key]))),Object.entries(Options.slider).forEach(([key,op])=>{var pos1=GET[key+0],key=GET[key+1];null!=pos1&&null!=key&&op.setSliderPosition(pos1,key)})}static createFilter(){Options.changeAllOnType(),Options.changePriceOnType(),Options.fromGetParams(),Options.addFilters()}}Options.dropdown={apType:DropdownFilterOption.createWithDefault(["Decomandat","Semidecomandat","Nedecomandat","Circular","Open-Space"],"Tip"),type:new DropdownFilterOption(["Apartament","Casă","Office","Teren"]),by:DropdownFilterOption.createWithDefault(["Proprietar","Agent Imobiliar"],"Oricine"),transaction:new DropdownFilterOption(["Închiriere","Cumpărare"])},Options.slider={rooms:new SliderFilterOption("Camere","camere").set(1,5).openRightDomain(),bathrooms:new SliderFilterOption("Băi","băi").set(1,3).openRightDomain(),price:new SliderFilterOption("Preț","Lei"),builtIn:new SliderFilterOption("Anul Construcției","").set(1950,2022).openRightDomain().openLeftDomain()},Options.submitButton=new SubmitFilterOption(()=>Options.onSubmit()),DocumentHandler.whenReady(Options.createFilter);